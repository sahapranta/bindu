(window.webpackJsonp=window.webpackJsonp||[]).push([[13],{270:function(e,t,r){"use strict";r.r(t);r(94);var n=r(21),o=(r(55),r(200)),l=r(411),c={layout:"admin",middleware:"auth",components:{TiptapVuetify:o.j},data:function(){return{form:{status:!0},type:"issue",loading:!1,error:"",pdfloader:!1,validation_error:"",success:"",extensions:[o.e,o.a,o.f,o.l,o.g,o.c,o.h,o.b,o.i,o.d],thumbnail_url:"",uploadPercentage:0}},watch:{"form.title":function(e){e&&(this.form.slug=this.form.title.toLowerCase().split(" ").join("-"))}},computed:{endpoint:function(){return this.type}},methods:{imageUpload:function(e){"thumbnail"===e?this.$refs.thumbnail.click():this.$refs.pdf.click()},upload:function(e){var t=this;return Object(n.a)(regeneratorRuntime.mark((function r(){return regeneratorRuntime.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if("thumbnail"!==e){r.next=5;break}t.form.thumbnail=t.$refs.thumbnail.files[0],t.thumbnail_url=URL.createObjectURL(t.form.thumbnail),r.next=10;break;case 5:return t.pdfloader=!0,r.next=8,t.$refs.pdf.files[0];case 8:t.form.pdf=r.sent,t.pdfloader=!1;case 10:case"end":return r.stop()}}),r)})))()},reset:function(){this.form={status:!0}},submit:function(){var e=this;return Object(n.a)(regeneratorRuntime.mark((function t(){var r;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e.loading=!0,e.uploadPercentage=0,t.prev=2,t.next=5,e.$api.post("/".concat(e.endpoint),Object(l.a)(e.form),{headers:{"Content-Type":"multipart/form-data"},onUploadProgress:function(e){var t=Math.round(e.loaded/e.total);this.uploadPercentage=parseInt(100*t)}.bind(e)});case 5:r=t.sent,r.data,e.success="Successfully Created New "+e.type,e.form={},t.next=15;break;case 11:t.prev=11,t.t0=t.catch(2),e.error=t.t0.response.data,e.validation_error=t.t0;case 15:e.loading=!1;case 16:case"end":return t.stop()}}),t,null,[[2,11]])})))()}}},d=r(42),f=r(52),v=r.n(f),m=r(406),h=r(69),_=r(91),y=r(58),x=r(246),k=r(95),w=r(420),V=r(133),C=r(184),j=r(179),O=r(247),$=r(424),S=r(151),component=Object(d.a)(c,(function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("v-card",[r("v-card-title",[e._v("Create New Issue/Book/Posts")]),e._v(" "),r("v-card-text",[e.success?r("v-alert",{attrs:{dense:"",outlined:"",dismissible:"",type:"success"}},[e._v(e._s(e.success))]):e._e(),e._v(" "),e.validation_error?r("v-alert",{attrs:{dense:"",outlined:"",dismissible:"",type:"error"}},[e._v(e._s(e.validation_error))]):e._e(),e._v(" "),r("v-select",{attrs:{items:["issue","book","post"],filled:""},model:{value:e.type,callback:function(t){e.type=t},expression:"type"}}),e._v(" "),r("v-text-field",{attrs:{outlined:"",dense:"",label:"Title","error-messages":e.error.title||""},model:{value:e.form.title,callback:function(t){e.$set(e.form,"title",t)},expression:"form.title"}}),e._v(" "),r("v-text-field",{attrs:{outlined:"",dense:"",label:"Slug","error-messages":e.error.slug||""},model:{value:e.form.slug,callback:function(t){e.$set(e.form,"slug",t)},expression:"form.slug"}}),e._v(" "),r("tiptap-vuetify",{attrs:{extensions:e.extensions,placeholder:"Add Short Description..."},model:{value:e.form.description,callback:function(t){e.$set(e.form,"description",t)},expression:"form.description"}}),e._v(" "),r("v-row",{staticClass:"mt-2 pl-0",attrs:{align:"center"}},[r("v-col",{attrs:{cols:"12",md:"4"}},[r("v-hover",{scopedSlots:e._u([{key:"default",fn:function(t){var n=t.hover;return[r("v-card",{staticClass:"mx-auto",attrs:{"max-width":"344"}},[e.thumbnail_url?r("v-img",{attrs:{src:e.thumbnail_url,"max-height":"150"}}):e._e(),e._v(" "),r("v-card-text",[e._v("Thumbnail")]),e._v(" "),r("v-fade-transition",[n?r("v-overlay",{attrs:{absolute:"",color:"#036358"}},[r("v-btn",{attrs:{color:"info"},on:{click:function(t){return t.preventDefault(),e.imageUpload("thumbnail")}}},[e._v("Upload")])],1):e._e()],1)],1)]}}])})],1),e._v(" "),r("v-col",{attrs:{cols:"12",md:"4"}},[r("v-hover",{scopedSlots:e._u([{key:"default",fn:function(t){var n=t.hover;return[r("v-card",{staticClass:"mx-auto",attrs:{"max-width":"344"}},[e.form.pdf?r("v-img",{attrs:{src:"/upload-pdf.png",height:"150"}}):e._e(),e._v(" "),r("v-card-text",[e._v("Pdf")]),e._v(" "),r("v-fade-transition",[n?r("v-overlay",{attrs:{absolute:"",color:"#036358"}},[r("v-btn",{attrs:{color:"info"},on:{click:function(t){return t.preventDefault(),e.imageUpload("pdf")}}},[e._v("Upload")])],1):e._e()],1)],1)]}}])})],1)],1),e._v(" "),r("input",{ref:"thumbnail",staticClass:"d-none",attrs:{type:"file"},on:{change:function(t){return e.upload("thumbnail")}}}),e._v(" "),r("input",{ref:"pdf",staticClass:"d-none",attrs:{type:"file",accept:"application/pdf"},on:{change:function(t){return e.upload("pdf")}}}),e._v(" "),r("v-progress-linear",{attrs:{color:"deep-purple accent-4",rounded:"",value:e.uploadPercentage,height:"10"}}),e._v(" "),r("div",{staticClass:"mt-4"},[r("v-btn",{attrs:{color:"error"},on:{click:function(t){return t.preventDefault(),e.reset(t)}}},[e._v("Reset")]),e._v(" "),r("v-btn",{attrs:{color:"primary",loading:e.loading,disabled:e.loading},on:{click:function(t){return t.preventDefault(),e.submit(t)}}},[e._v("Submit")])],1)],1)],1)}),[],!1,null,null,null);t.default=component.exports;v()(component,{VAlert:m.a,VBtn:h.a,VCard:_.a,VCardText:y.b,VCardTitle:y.c,VCol:x.a,VFadeTransition:k.d,VHover:w.a,VImg:V.a,VOverlay:C.a,VProgressLinear:j.a,VRow:O.a,VSelect:$.a,VTextField:S.a})},411:function(e,t,r){"use strict";r.d(t,"a",(function(){return o}));r(8),r(6),r(12);function n(e){return Array.isArray(e)}function o(e,t,pre){return t=t||new FormData,null==e||(n(e)?e.forEach((function(e){o(e,t,pre+"[]")})):!function(e){return e===Object(e)}(e)||function(e){return e instanceof File}(e)||function(e){return e instanceof Date}(e)?t.append(pre,e):Object.keys(e).forEach((function(r){var l=e[r];if(n(l))for(;r.length>2&&r.lastIndexOf("[]")===r.length-2;)r=r.substring(0,r.length-2);o(l,t,pre?pre+"["+r+"]":r)}))),t}},420:function(e,t,r){"use strict";var n=r(101),o=r(29),l=r(5),c=r(9);t.a=Object(l.a)(n.a,o.a).extend({name:"v-hover",props:{disabled:{type:Boolean,default:!1},value:{type:Boolean,default:void 0}},methods:{onMouseEnter:function(){this.runDelay("open")},onMouseLeave:function(){this.runDelay("close")}},render:function(){return this.$scopedSlots.default||void 0!==this.value?(this.$scopedSlots.default&&(element=this.$scopedSlots.default({hover:this.isActive})),Array.isArray(element)&&1===element.length&&(element=element[0]),element&&!Array.isArray(element)&&element.tag?(this.disabled||(element.data=element.data||{},this._g(element.data,{mouseenter:this.onMouseEnter,mouseleave:this.onMouseLeave})),element):(Object(c.c)("v-hover should only contain a single element",this),element)):(Object(c.c)("v-hover is missing a default scopedSlot or bound value",this),null);var element}})}}]);