(window.webpackJsonp=window.webpackJsonp||[]).push([[5],{259:function(t,e,r){"use strict";r.r(e);r(94);var n=r(21),o={head:function(){return{title:this.data.title}},data:function(){return{ratings:4,data:{},downloading:!1,rating:0,review:"",loading:!1,error:"",success:"",reviewError:""}},methods:{submit:function(){var t=this;return Object(n.a)(regeneratorRuntime.mark((function e(){var r;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.loading=!0,t.success="",t.error="",!(t.review.length<=0)){e.next=7;break}t.reviewError="Please Write Something...",e.next=22;break;case 7:if(!(t.rating<1)){e.next=11;break}t.error="Please Add Some Ratings",e.next=22;break;case 11:return e.prev=11,e.next=14,t.$api.post("/books/review",{review:t.review,rating:t.rating});case 14:r=e.sent,r.data,t.success="Your Review Successfully Submitted",e.next=22;break;case 19:e.prev=19,e.t0=e.catch(11),t.error=e.t0;case 22:setTimeout((function(){t.reset()}),3e3),t.loading=!1;case 24:case"end":return e.stop()}}),e,null,[[11,19]])})))()},reset:function(){this.review="",this.reviewError="",this.error="",this.success=""},download:function(){var t=this;return Object(n.a)(regeneratorRuntime.mark((function e(){var r,link;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.downloading=!0,r=t.data.pdf_url,e.next=4,t.$api.put("/book/count/".concat(t.data.slug));case 4:(link=document.createElement("a")).href=r,link.download=t.data.title,link.click(),t.downloading=!1;case 9:case"end":return e.stop()}}),e)})))()},fetchData:function(){var t=this;return Object(n.a)(regeneratorRuntime.mark((function e(){var r,data;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.loading=!0,e.prev=1,e.next=4,t.$api.get("/book/"+t.$route.params.slug);case 4:r=e.sent,data=r.data,t.data=data,e.next=12;break;case 9:e.prev=9,e.t0=e.catch(1),console.log(e.t0);case 12:t.loading=!1;case 13:case"end":return e.stop()}}),e,null,[[1,9]])})))()}},watch:{review:function(){this.reviewError=""}},mounted:function(){this.fetchData()}},c=(r(442),r(42)),l=r(52),d=r.n(l),h=r(406),v=r(69),f=r(91),m=r(58),w=r(246),y=r(394),x=r(133),_=(r(198),r(17),r(443),r(38)),O=r(18),I=r(101),k=r(135),C=r(240),j=r(16),H=r(1),$=r(5),S=Object($.a)(O.a,I.a,C.a,k.a,j.a).extend({name:"v-rating",props:{backgroundColor:{type:String,default:"accent"},color:{type:String,default:"primary"},clearable:Boolean,dense:Boolean,emptyIcon:{type:String,default:"$ratingEmpty"},fullIcon:{type:String,default:"$ratingFull"},halfIcon:{type:String,default:"$ratingHalf"},halfIncrements:Boolean,hover:Boolean,length:{type:[Number,String],default:5},readonly:Boolean,size:[Number,String],value:{type:Number,default:0}},data:function(){return{hoverIndex:-1,internalValue:this.value}},computed:{directives:function(){return this.readonly||!this.ripple?[]:[{name:"ripple",value:{circle:!0}}]},iconProps:function(){var t=this.$props,e=t.dark,r=t.large,n=t.light,o=t.medium,small=t.small;return{dark:e,large:r,light:n,medium:o,size:t.size,small:small,xLarge:t.xLarge,xSmall:t.xSmall}},isHovering:function(){return this.hover&&this.hoverIndex>=0}},watch:{internalValue:function(t){t!==this.value&&this.$emit("input",t)},value:function(t){this.internalValue=t}},methods:{createClickFn:function(i){var t=this;return function(e){if(!t.readonly){var r=t.genHoverIndex(e,i);t.clearable&&t.internalValue===r?t.internalValue=0:t.internalValue=r}}},createProps:function(i){var t={index:i,value:this.internalValue,click:this.createClickFn(i),isFilled:Math.floor(this.internalValue)>i,isHovered:Math.floor(this.hoverIndex)>i};return this.halfIncrements&&(t.isHalfHovered=!t.isHovered&&(this.hoverIndex-i)%1>0,t.isHalfFilled=!t.isFilled&&(this.internalValue-i)%1>0),t},genHoverIndex:function(t,i){var e=this.isHalfEvent(t);return this.halfIncrements&&this.$vuetify.rtl&&(e=!e),i+(e?.5:1)},getIconName:function(t){var e=this.isHovering?t.isHovered:t.isFilled,r=this.isHovering?t.isHalfHovered:t.isHalfFilled;return e?this.fullIcon:r?this.halfIcon:this.emptyIcon},getColor:function(t){if(this.isHovering){if(t.isHovered||t.isHalfHovered)return this.color}else if(t.isFilled||t.isHalfFilled)return this.color;return this.backgroundColor},isHalfEvent:function(t){if(this.halfIncrements){var rect=t.target&&t.target.getBoundingClientRect();if(rect&&t.pageX-rect.left<rect.width/2)return!0}return!1},onMouseEnter:function(t,i){var e=this;this.runDelay("open",(function(){e.hoverIndex=e.genHoverIndex(t,i)}))},onMouseLeave:function(){var t=this;this.runDelay("close",(function(){return t.hoverIndex=-1}))},genItem:function(i){var t=this,e=this.createProps(i);if(this.$scopedSlots.item)return this.$scopedSlots.item(e);var r={click:e.click};return this.hover&&(r.mouseenter=function(e){return t.onMouseEnter(e,i)},r.mouseleave=this.onMouseLeave,this.halfIncrements&&(r.mousemove=function(e){return t.onMouseEnter(e,i)})),this.$createElement(_.a,this.setTextColor(this.getColor(e),{attrs:{tabindex:-1},directives:this.directives,props:this.iconProps,on:r}),[this.getIconName(e)])}},render:function(t){var e=this,r=Object(H.h)(Number(this.length)).map((function(i){return e.genItem(i)}));return t("div",{staticClass:"v-rating",class:{"v-rating--readonly":this.readonly,"v-rating--dense":this.dense}},r)}}),B=r(247),E=r(438),component=Object(c.a)(o,(function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("v-container",{attrs:{fluid:""}},[r("v-row",{attrs:{justify:"center"}},[r("v-col",{attrs:{cols:"12",md:"4",sm:"8"}},[r("v-img",{staticClass:"fixedImg",attrs:{src:t.data.image_url,alt:t.data.title,"max-width":"320"}})],1),t._v(" "),r("v-col",{attrs:{cols:"12",md:"6"}},[r("div",{staticClass:"font-weight-light grey--text title mb-2"},[t._v("Description")]),t._v(" "),r("h3",{staticClass:"display-3 font-weight-light teal--text mb-2"},[t._v(t._s(t.data.title))]),t._v(" "),r("div",{staticClass:"d-flex align-center my-4"},[r("v-rating",{attrs:{"background-color":"orange lighten-3",color:"orange",medium:"",readonly:""},model:{value:t.ratings,callback:function(e){t.ratings=e},expression:"ratings"}}),t._v("(150 Reviews)\n      ")],1),t._v(" "),r("div",{staticClass:"font-weight-light title mb-2",domProps:{innerHTML:t._s(t.data.description)}}),t._v(" "),r("v-btn",{attrs:{color:"pink white--text"}},[t._v("Read")]),t._v(" "),r("v-btn",{attrs:{color:"info",loading:t.downloading,disabled:t.downloading},on:{click:t.download}},[t._v("Download")]),t._v(" "),r("v-card",{staticClass:"mt-5"},[r("v-card-text",[r("p",{staticClass:"grey--text title"},[t._v("Write Review")]),t._v(" "),t.success?r("v-alert",{attrs:{dense:"",outlined:"",dismissible:"",type:"success"}},[t._v(t._s(t.success))]):t._e(),t._v(" "),t.error?r("v-alert",{attrs:{dense:"",outlined:"",dismissible:"",type:"error"}},[t._v(t._s(t.error))]):t._e(),t._v(" "),r("div",{staticClass:"d-flex align-center"},[t._v("\n            ("+t._s(t.rating)+")\n            "),r("v-rating",{attrs:{"background-color":"orange lighten-3",color:"orange",medium:""},model:{value:t.rating,callback:function(e){t.rating=e},expression:"rating"}})],1),t._v(" "),r("v-textarea",{attrs:{placeholder:"Write Your Review...",rows:"2",counter:"150","error-messages":t.reviewError},model:{value:t.review,callback:function(e){t.review=e},expression:"review"}}),t._v(" "),r("v-btn",{attrs:{color:"primary mt-2 mb-5",loading:t.loading,disabled:t.loading},on:{click:t.submit}},[t._v("Submit")])],1)],1)],1)],1)],1)}),[],!1,null,"7d50ac0a",null);e.default=component.exports;d()(component,{VAlert:h.a,VBtn:v.a,VCard:f.a,VCardText:m.b,VCol:w.a,VContainer:y.a,VImg:x.a,VRating:S,VRow:B.a,VTextarea:E.a})},396:function(t,e,r){"use strict";var n=r(2);e.a=n.a.extend({name:"transitionable",props:{mode:String,origin:String,transition:String}})},398:function(t,e,r){},406:function(t,e,r){"use strict";r(13),r(11),r(8),r(6),r(12);var n=r(3),o=(r(32),r(34),r(398),r(100)),c=r(111),l=r(38),d=r(29),h=r(16),v=r(396),f=r(5),m=r(9);function w(object,t){var e=Object.keys(object);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(object);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(object,t).enumerable}))),e.push.apply(e,r)}return e}function y(t){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?w(Object(source),!0).forEach((function(e){Object(n.a)(t,e,source[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(source)):w(Object(source)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(source,e))}))}return t}e.a=Object(f.a)(o.a,d.a,v.a).extend({name:"v-alert",props:{border:{type:String,validator:function(t){return["top","right","bottom","left"].includes(t)}},closeLabel:{type:String,default:"$vuetify.close"},coloredBorder:Boolean,dense:Boolean,dismissible:Boolean,closeIcon:{type:String,default:"$cancel"},icon:{default:"",type:[Boolean,String],validator:function(t){return"string"==typeof t||!1===t}},outlined:Boolean,prominent:Boolean,text:Boolean,type:{type:String,validator:function(t){return["info","error","success","warning"].includes(t)}},value:{type:Boolean,default:!0}},computed:{__cachedBorder:function(){if(!this.border)return null;var data={staticClass:"v-alert__border",class:Object(n.a)({},"v-alert__border--".concat(this.border),!0)};return this.coloredBorder&&((data=this.setBackgroundColor(this.computedColor,data)).class["v-alert__border--has-color"]=!0),this.$createElement("div",data)},__cachedDismissible:function(){var t=this;if(!this.dismissible)return null;var e=this.iconColor;return this.$createElement(c.a,{staticClass:"v-alert__dismissible",props:{color:e,icon:!0,small:!0},attrs:{"aria-label":this.$vuetify.lang.t(this.closeLabel)},on:{click:function(){return t.isActive=!1}}},[this.$createElement(l.a,{props:{color:e}},this.closeIcon)])},__cachedIcon:function(){return this.computedIcon?this.$createElement(l.a,{staticClass:"v-alert__icon",props:{color:this.iconColor}},this.computedIcon):null},classes:function(){var t=y(y({},o.a.options.computed.classes.call(this)),{},{"v-alert--border":Boolean(this.border),"v-alert--dense":this.dense,"v-alert--outlined":this.outlined,"v-alert--prominent":this.prominent,"v-alert--text":this.text});return this.border&&(t["v-alert--border-".concat(this.border)]=!0),t},computedColor:function(){return this.color||this.type},computedIcon:function(){return!1!==this.icon&&("string"==typeof this.icon&&this.icon?this.icon:!!["error","info","success","warning"].includes(this.type)&&"$".concat(this.type))},hasColoredIcon:function(){return this.hasText||Boolean(this.border)&&this.coloredBorder},hasText:function(){return this.text||this.outlined},iconColor:function(){return this.hasColoredIcon?this.computedColor:void 0},isDark:function(){return!(!this.type||this.coloredBorder||this.outlined)||h.a.options.computed.isDark.call(this)}},created:function(){this.$attrs.hasOwnProperty("outline")&&Object(m.a)("outline","outlined",this)},methods:{genWrapper:function(){var t=[this.$slots.prepend||this.__cachedIcon,this.genContent(),this.__cachedBorder,this.$slots.append,this.$scopedSlots.close?this.$scopedSlots.close({toggle:this.toggle}):this.__cachedDismissible];return this.$createElement("div",{staticClass:"v-alert__wrapper"},t)},genContent:function(){return this.$createElement("div",{staticClass:"v-alert__content"},this.$slots.default)},genAlert:function(){var data={staticClass:"v-alert",attrs:{role:"alert"},class:this.classes,style:this.styles,directives:[{name:"show",value:this.isActive}]};this.coloredBorder||(data=(this.hasText?this.setTextColor:this.setBackgroundColor)(this.computedColor,data));return this.$createElement("div",data,[this.genWrapper()])},toggle:function(){this.isActive=!this.isActive}},render:function(t){var e=this.genAlert();return this.transition?t("transition",{props:{name:this.transition,origin:this.origin,mode:this.mode}},[e]):e}})},412:function(t,e,r){},415:function(t,e,r){},438:function(t,e,r){"use strict";r(13),r(11),r(8),r(6),r(12);var n=r(3),o=(r(17),r(412),r(151)),c=r(5);function l(object,t){var e=Object.keys(object);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(object);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(object,t).enumerable}))),e.push.apply(e,r)}return e}var d=Object(c.a)(o.a);e.a=d.extend({name:"v-textarea",props:{autoGrow:Boolean,noResize:Boolean,rowHeight:{type:[Number,String],default:24,validator:function(t){return!isNaN(parseFloat(t))}},rows:{type:[Number,String],default:5,validator:function(t){return!isNaN(parseInt(t,10))}}},computed:{classes:function(){return function(t){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?l(Object(source),!0).forEach((function(e){Object(n.a)(t,e,source[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(source)):l(Object(source)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(source,e))}))}return t}({"v-textarea":!0,"v-textarea--auto-grow":this.autoGrow,"v-textarea--no-resize":this.noResizeHandle},o.a.options.computed.classes.call(this))},noResizeHandle:function(){return this.noResize||this.autoGrow}},watch:{lazyValue:function(){this.autoGrow&&this.$nextTick(this.calculateInputHeight)},rowHeight:function(){this.autoGrow&&this.$nextTick(this.calculateInputHeight)}},mounted:function(){var t=this;setTimeout((function(){t.autoGrow&&t.calculateInputHeight()}),0)},methods:{calculateInputHeight:function(){var input=this.$refs.input;if(input){input.style.height="0";var t=input.scrollHeight,e=parseInt(this.rows,10)*parseFloat(this.rowHeight);input.style.height=Math.max(e,t)+"px"}},genInput:function(){var input=o.a.options.methods.genInput.call(this);return input.tag="textarea",delete input.data.attrs.type,input.data.attrs.rows=this.rows,input},onInput:function(t){o.a.options.methods.onInput.call(this,t),this.autoGrow&&this.calculateInputHeight()},onKeyDown:function(t){this.isFocused&&13===t.keyCode&&t.stopPropagation(),this.$emit("keydown",t)}}})},442:function(t,e,r){"use strict";var n=r(415);r.n(n).a},443:function(t,e,r){}}]);